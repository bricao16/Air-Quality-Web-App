<!DOCTYPE html>
<html>
   <head>
   	  <!-- <p>AIR QUALITY MAP</p> -->
      <title>Air Quality Map by Brian Cao and Mike Hawkins</title>
      <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
      <link rel = "stylesheet" href = "normalize.css"/>
      <link rel = "stylesheet" href = "skeleton.css"/>
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

   </head>

   <body>

	   <div class ="container">
			<div class ="row" style = "background: red;">
				<div class ="six columns" style = "background: yellow; float: left;   ">
						<p style = "float: left; min-height: 70%;">
							Latitude:
							<input type="text" id = "lat1" name="lat1"  onchange ="saveLat1()">

							<br>
							Longitude:
							<input type="text" id = "lon1" name="lon1"   onchange ="saveLon1()">
							<br>
							<button onclick = "update1()">Submit</button>
							<div id = "map" style = " padding-bottom: 50%; width: 75%; height: 75%; border: 3px solid #73AD21;" onmouseup = "getCenter1()"></div>

						</p>
				</div>
				<div class ="six columns" style = "background: green; float: left; ">
						<p style = " min-height: 50%;">
							Latitude:
							<input type="text" id = "lat2" name="lat2"  onchange ="saveLat2()" >
							<br>
							Longitude:
							<input type="text" id = "lon2" name="lon2"   onchange ="saveLon2()" >
							<br>
							<button onclick = "update2()">Submit</button>
							<div id = "map2" style = "padding-bottom: 50%; width: 75%; height: 75%;  border: 3px solid #73AD21;" onmouseup = "getCenter2()"></div>
						</p>
				</div>

			</div>
		</div>
		<div>
			<table style="width:25%">
			  <tr>
				<th>Location</th>
				<th>Particle Count</th>

			  </tr>
			  <tr>

			  </tr>
			  <tr>
			  </tr>
			</table>
		</div>
      <script>

         //make objects
         var map = new L.map('map', {minZoom: 9, maxZoom: 16}).setView([44.9537,-93.0900], 10);
         var map2 = new L.map('map2', {minZoom: 9, maxZoom: 16}).setView([44.9537,-93.0900], 10	);
         // Creating a Layer object
         var layer = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
         var layer2 = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
         // Adding layer to the map
         map.addLayer(layer);
         map2.addLayer(layer2);
         //event listening?
         //map.onmouseup = getCenter1();
         //map2.onmouseup = getCenter2();
		getCenter1();
		getCenter2();
		 //console.log(#lat1);
		function saveLat1(x)
		{
			if (x == undefined) {
				var lat_1=document.getElementById("lat1").value;
						
				return lat_1;

			}
			else{
				return map.getCenter().lat;
			}
		}
		function saveLon1(x)
		{
			if (x == undefined) {
				var lon_1=document.getElementById("lon1").value;
				return lon_1;
			}
			else{
				return map.getCenter().lng;
			}
		}
		function saveLat2(x)
		{
			if (x == undefined) {
				var lat_2=document.getElementById("lat2").value;
				return lat_2;
			}
			else{
				return map2.getCenter().lat;
			}
		}
		function saveLon2(x)
		{
			if (x == undefined) {
				var lon_2=document.getElementById("lon2").value;
				return lon_2;
			}
			else{
				return map2.getCenter().lng;
			}
		}
		 function update1()
		 {
			map.setView([saveLat1(), saveLon1()], 10);

		 }
		 function update2()
		 {
			map2.setView([saveLat2(), saveLon2()], 10);
		 }
		 function getCenter1()
		 {
		 	saveLat1(1);
		 	saveLon1(1);
			document.getElementById("lat1").value=saveLat1(1);	
			document.getElementById("lon1").value=saveLon1(1);
		 }
		 function getCenter2()
		 {
		 	saveLat2(1);
		 	saveLon2(1);
			document.getElementById("lat2").value=saveLat2(1);	
			document.getElementById("lon2").value=saveLon2(1);
		 }
      </script>
   </body>

</html>
